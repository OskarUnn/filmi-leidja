<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vali istekohad</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        let seanssID = "[[${seanssID}]]";
        let kohtadeArv = [[${kohtadeArv}]];
    </script>
    <base href="/">
</head>
<body>

<nav class="bg-gray-800 p-4 fixed w-full top-0 z-10">
    <div class="container mx-auto flex justify-between items-center">
        <a href="/" class="text-white text-2xl font-bold">Filmi-Leidja</a>

        <ul class="flex mx-auto space-x-4">
            <li><a href="/kinokava" class="text-white hover:text-gray-300">Kinokava</a></li>
            <li><a href="/filmid" class="text-white hover:text-gray-300">Filmid</a></li>
            <li><a href="https://github.com/OskarUnn/filmi-leidja" class="text-gray-200 hover:text-gray-300">GitHub</a></li>
        </ul>
    </div>
</nav>

<div id="app" class="bg-white flex flex-col items-center justify-center h-screen mt-4">
    <div class="flex flex-col justify-center">
        <div class="flex items-center justify-start w-full">
            <img v-bind:src="seanss.film.poster" alt="Image" class="h-full w-1/3 object-cover rounded-l">
            <div class="flex flex-col ml-4">
                <p class="font-bold text-xl">{{ seanss.film.pealkiri }}</p>
                <p class="font-semibold text-lg">{{ kuupäev(seanss.algus) }}</p>
                <p class="font-semibold text-lg">Kohtade arv: {{ kohtadeArv }}</p>
<!--                <p class="text-lg">Istekohti valitud: {{ valitudKohad.length + "/" + kohtadeArv }}</p>-->
            </div>
            <button @click="kinnitaKohad" class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded shadow p-2 m-auto w-min">Kinnita istekohad</button>
        </div>
        <!-- <h1 class="font-xxl">Vali istekohad</h1> -->
        <div class="flex flex-row" v-for="(rida, ridaIndex) in seanss.saal" :key="ridaIndex">
            <istekoht v-for="(iste, isteIndex) in rida" :key="isteIndex"
                v-bind:rida="ridaIndex"
                v-bind:iste="isteIndex"
                v-bind:hõivatud="iste">
            </istekoht>
        </div>
        <p class="mx-auto mt-8">EKRAAN</p>
        <div class="mx-auto bg-gray-500 rounded w-full h-2"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script th:src="@{/js/valikoht.js}"></script>
</body>
</html>
